{
    "type": "origins:multiple",
    "name": "Insatiable Hunger",
    "description": "Hunger is replaced with a blood bar. While you can sustain yourself with raw meat, live prey will always feed you more.",
    "blood-bar": {
        "type": "origins:resource",
        "min": 0,
        "max": 60,
        "hud_render": {
            "sprite_location": "origins:textures/gui/community/spiderkolo/resource_bar_01.png",
            "bar_index": 5,
            "order": -1
        },
        "start_value": 40
    },
    "grasp": {
        "type": "origins:modify_damage_dealt",
        "damage_condition": {
            "type": "origins:type",
            "damage_type": "player_attack"
        },
        "condition": {
            "type": "origins:equipped_item",
            "equipment_slot": "mainhand",
            "item_condition": {
                "type": "origins:empty"
            }
        },
        "modifier": {
            "id": "vampire:vp-insatiable-hunger_grasp",
            "operation": "add_base_early",
            "amount": 1
        }
    },
    "feed": {
        "type": "origins:action_on_hit",
        "cooldown": 40,
        "damage_condition": {
            "type": "origins:all_of",
            "conditions": [{
                "type": "origins:type",
                "damage_type": "player_attack"
            }, {
                "type": "origins:attacker",
                "entity_condition": {
                    "type": "origins:equipped_item",
                    "equipment_slot": "mainhand",
                    "item_condition": {
                        "type": "origins:empty"
                    }
                }
            }]
        },
        "bientity_condition": {
            "type": "origins:target_condition",
            "condition": {
                "type": "origins:all_of",
                "conditions": [{
                    "type": "origins:in_tag",
                    "tag": "general:feedable"
                }, {
                    "type": "origins:origin",
                    "origin": "shoreline:metalman",
                    "layer": "shoreline:origin",
                    "inverted": true
                }, {
                    "type": "origins:power",
                    "power": "shoreline:vp-blood-poisoning",
                    "inverted": true
                }]
            }
        },
        "bientity_action": {
            "type": "origins:and",
            "actions": [{
                "type": "origins:actor_action",
                "action": {
                    "type": "origins:and",
                    "actions": [{
                        "type": "origins:modify_resource",
                        "resource": "shoreline:vp-insatiable-hunger_blood-bar",
                        "modifier": {
                            "id": "shoreline:vp-insatiable-hunger_feed",
                            "operation": "add_base_early",
                            "amount": 15
                        }
                    }, {
                        "type": "origins:modify_resource",
                        "resource": "shoreline:vp-blood-regeneration_well-fed",
                        "modifier": {
                            "id": "shoreline:vp-insatiable-hunger_feed",
                            "operation": "add_base_early",
                            "amount": 60
                        }
                    }]
                }
            }, {
                "type": "origins:target_action",
                "action": {
                    "type": "origins:and",
                    "actions": [{
                        "type": "origins:grant_power",
                        "power": "shoreline:vp-blood-poisoning",
                        "source": "vampire:vp-insatiable-hunger_feed"
                    }, {
                        "type": "origins:spawn_particles",
                        "particle": {
                            "type": "minecraft:block",
                            "params": {
                                "block_state": "minecraft:redstone_block"
                            }
                        },
                        "count": 16,
                        "speed": 0.0,
                        "force": true,
                        "spread": {
                            "x": 0.5,
                            "y": 0.5,
                            "z": 0.5
                        }
                    }]
                }
            }]
        }
    },
    "starvation": {
        "type": "origins:action_over_time",
        "condition": {
            "type": "origins:resource",
            "resource": "shoreline:vp-insatiable-hunger_blood-bar",
            "comparison": "<",
            "compare_to": 10
        },
        "entity_action": {
            "type": "origins:damage",
            "amount": 1,
            "damage_type": "minecraft:starve"
        },
        "interval": 60
    },
    "reincarnate": {
        "type": "origins:action_on_callback",
        "entity_action_respawned": {
            "type": "origins:and",
            "actions": [{
                "type": "origins:change_resource",
                "resource": "shoreline:vp-insatiable-hunger_blood-bar",
                "operation": "set",
                "change": 20
            }, {
                "type": "origins:change_resource",
                "resource": "shoreline:vp-blood-regeneration_well-fed",
                "operation": "set",
                "change": 60
            }]
        }
    }
}